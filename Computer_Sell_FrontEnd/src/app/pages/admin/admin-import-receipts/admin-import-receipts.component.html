<div class="p-6 space-y-4">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold">Quản lý phiếu nhập</h1>
    <button (click)="create()" class="px-4 py-2 bg-blue-600 text-white rounded">Tạo phiếu nhập</button>
  </div>

  <div *ngIf="error" class="text-red-600">{{ error }}</div>

  <div class="overflow-x-auto bg-white rounded border">
    <table class="min-w-full">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-4 py-2 text-left">Mã phiếu</th>
          <th class="px-4 py-2 text-left">Nhân viên</th>
          <th class="px-4 py-2 text-left">Ngày nhập</th>
          <th class="px-4 py-2 text-left">Tổng tiền</th>
          <th class="px-4 py-2 text-left">Trạng thái</th>
          <th class="px-4 py-2 text-right">Thao tác</th>
        </tr>
      </thead>
      <tbody *ngIf="!loading; else loadingTmpl">
        <tr *ngFor="let r of receipts" class="border-t">
          <td class="px-4 py-2">{{ r.receiptCode || r.code || r.id }}</td>
          <td class="px-4 py-2">
            {{ r.employee?.username || r.employeeName || r.employee?.name || (r.employeeId?.slice(0,8) + '...') }}
          </td>
          <td class="px-4 py-2">{{ r.receiptDate | date:'short' }}</td>
          <td class="px-4 py-2">{{ r.totalAmount | number:'1.0-0' }} đ</td>
          <td class="px-4 py-2">{{ r.status }}</td>
          <td class="px-4 py-2 text-right">
            <button class="px-3 py-1 border rounded" (click)="view(r)">Xem</button>
          </td>
        </tr>
        <tr *ngIf="!receipts.length">
          <td colspan="6" class="px-4 py-10 text-center text-gray-500">Chưa có phiếu nhập</td>
        </tr>
      </tbody>
    </table>
    <ng-template #loadingTmpl>
      <div class="p-8 text-center text-gray-500">Đang tải dữ liệu...</div>
    </ng-template>
  </div>
</div>

